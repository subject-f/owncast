(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3145],{82911:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),a=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"},c=n(42135),i=function(e,t){return a.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};i.displayName="QuestionCircleFilled";var s=a.forwardRef(i)},24478:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),a=n(67294),o={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6z",fill:e}},{tag:"path",attrs:{d:"M214 226.7v427.6l298 232.2 298-232.2V226.7L512 125.1 214 226.7zM632.8 328H688c6.5 0 10.3 7.4 6.5 12.7L481.9 633.4a16.1 16.1 0 01-26 0l-126.4-174c-3.8-5.3 0-12.7 6.5-12.7h55.2c5.2 0 10 2.5 13 6.6l64.7 89.1 150.9-207.8c3-4.1 7.9-6.6 13-6.6z",fill:t}},{tag:"path",attrs:{d:"M404.2 453.3c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z",fill:e}}]}},name:"safety-certificate",theme:"twotone"},c=n(42135),i=function(e,t){return a.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};i.displayName="SafetyCertificateTwoTone";var s=a.forwardRef(i)},84674:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),a=n(67294),o={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm288.5 682.8L277.7 224C258 240 240 258 224 277.7l522.8 522.8C682.8 852.7 601 884 512 884c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372c0 89-31.3 170.8-83.5 234.8z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372c89 0 170.8-31.3 234.8-83.5L224 277.7c16-19.7 34-37.7 53.7-53.7l522.8 522.8C852.7 682.8 884 601 884 512c0-205.4-166.6-372-372-372z",fill:t}}]}},name:"stop",theme:"twotone"},c=n(42135),i=function(e,t){return a.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};i.displayName="StopTwoTone";var s=a.forwardRef(i)},6226:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(4942),a=n(87462),o=n(71002),c=n(67294),i=n(94184),s=n.n(i),l=n(99134),u=n(59844),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var d=["xs","sm","md","lg","xl","xxl"],p=c.forwardRef((function(e,t){var n,i=c.useContext(u.E_),p=i.getPrefixCls,m=i.direction,h=c.useContext(l.Z),v=h.gutter,y=h.wrap,g=h.supportFlexGap,b=e.prefixCls,x=e.span,w=e.order,Z=e.offset,j=e.push,O=e.pull,C=e.className,N=e.children,S=e.flex,P=e.style,E=f(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),T=p("col",b),k={};d.forEach((function(t){var n,c={},i=e[t];"number"===typeof i?c.span=i:"object"===(0,o.Z)(i)&&(c=i||{}),delete E[t],k=(0,a.Z)((0,a.Z)({},k),(n={},(0,r.Z)(n,"".concat(T,"-").concat(t,"-").concat(c.span),void 0!==c.span),(0,r.Z)(n,"".concat(T,"-").concat(t,"-order-").concat(c.order),c.order||0===c.order),(0,r.Z)(n,"".concat(T,"-").concat(t,"-offset-").concat(c.offset),c.offset||0===c.offset),(0,r.Z)(n,"".concat(T,"-").concat(t,"-push-").concat(c.push),c.push||0===c.push),(0,r.Z)(n,"".concat(T,"-").concat(t,"-pull-").concat(c.pull),c.pull||0===c.pull),(0,r.Z)(n,"".concat(T,"-rtl"),"rtl"===m),n))}));var M=s()(T,(n={},(0,r.Z)(n,"".concat(T,"-").concat(x),void 0!==x),(0,r.Z)(n,"".concat(T,"-order-").concat(w),w),(0,r.Z)(n,"".concat(T,"-offset-").concat(Z),Z),(0,r.Z)(n,"".concat(T,"-push-").concat(j),j),(0,r.Z)(n,"".concat(T,"-pull-").concat(O),O),n),C,k),z={};if(v&&v[0]>0){var A=v[0]/2;z.paddingLeft=A,z.paddingRight=A}if(v&&v[1]>0&&!g){var _=v[1]/2;z.paddingTop=_,z.paddingBottom=_}return S&&(z.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(S),!1!==y||z.minWidth||(z.minWidth=0)),c.createElement("div",(0,a.Z)({},E,{style:(0,a.Z)((0,a.Z)({},z),P),className:M,ref:t}),N)}));p.displayName="Col";var m=p},27049:function(e,t,n){"use strict";var r=n(87462),a=n(4942),o=n(67294),c=n(94184),i=n.n(c),s=n(59844),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.Z=function(e){return o.createElement(s.C,null,(function(t){var n,c=t.getPrefixCls,s=t.direction,u=e.prefixCls,f=e.type,d=void 0===f?"horizontal":f,p=e.orientation,m=void 0===p?"center":p,h=e.orientationMargin,v=e.className,y=e.children,g=e.dashed,b=e.plain,x=l(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),w=c("divider",u),Z=m.length>0?"-".concat(m):m,j=!!y,O="left"===m&&null!=h,C="right"===m&&null!=h,N=i()(w,"".concat(w,"-").concat(d),(n={},(0,a.Z)(n,"".concat(w,"-with-text"),j),(0,a.Z)(n,"".concat(w,"-with-text").concat(Z),j),(0,a.Z)(n,"".concat(w,"-dashed"),!!g),(0,a.Z)(n,"".concat(w,"-plain"),!!b),(0,a.Z)(n,"".concat(w,"-rtl"),"rtl"===s),(0,a.Z)(n,"".concat(w,"-no-default-orientation-margin-left"),O),(0,a.Z)(n,"".concat(w,"-no-default-orientation-margin-right"),C),n),v),S=(0,r.Z)((0,r.Z)({},O&&{marginLeft:h}),C&&{marginRight:h});return o.createElement("div",(0,r.Z)({className:N},x,{role:"separator"}),y&&o.createElement("span",{className:"".concat(w,"-inner-text"),style:S},y))}))}},99134:function(e,t,n){"use strict";var r=(0,n(67294).createContext)({});t.Z=r},25968:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(87462),a=n(4942),o=n(71002),c=n(97685),i=n(67294),s=n(94184),l=n.n(s),u=n(59844),f=n(99134),d=n(93355),p=n(24308),m=n(98082),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=((0,d.b)("top","middle","bottom","stretch"),(0,d.b)("start","end","center","space-around","space-between"),i.forwardRef((function(e,t){var n,s=e.prefixCls,d=e.justify,v=e.align,y=e.className,g=e.style,b=e.children,x=e.gutter,w=void 0===x?0:x,Z=e.wrap,j=h(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),O=i.useContext(u.E_),C=O.getPrefixCls,N=O.direction,S=i.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),P=(0,c.Z)(S,2),E=P[0],T=P[1],k=(0,m.Z)(),M=i.useRef(w);i.useEffect((function(){var e=p.ZP.subscribe((function(e){var t=M.current||0;(!Array.isArray(t)&&"object"===(0,o.Z)(t)||Array.isArray(t)&&("object"===(0,o.Z)(t[0])||"object"===(0,o.Z)(t[1])))&&T(e)}));return function(){return p.ZP.unsubscribe(e)}}),[]);var z=C("row",s),A=function(){var e=[0,0];return(Array.isArray(w)?w:[w,0]).forEach((function(t,n){if("object"===(0,o.Z)(t))for(var r=0;r<p.c4.length;r++){var a=p.c4[r];if(E[a]&&void 0!==t[a]){e[n]=t[a];break}}else e[n]=t||0})),e}(),_=l()(z,(n={},(0,a.Z)(n,"".concat(z,"-no-wrap"),!1===Z),(0,a.Z)(n,"".concat(z,"-").concat(d),d),(0,a.Z)(n,"".concat(z,"-").concat(v),v),(0,a.Z)(n,"".concat(z,"-rtl"),"rtl"===N),n),y),I={},L=A[0]>0?A[0]/-2:void 0,R=A[1]>0?A[1]/-2:void 0;if(L&&(I.marginLeft=L,I.marginRight=L),k){var V=(0,c.Z)(A,2);I.rowGap=V[1]}else R&&(I.marginTop=R,I.marginBottom=R);var D=(0,c.Z)(A,2),Q=D[0],U=D[1],B=i.useMemo((function(){return{gutter:[Q,U],wrap:Z,supportFlexGap:k}}),[Q,U,Z,k]);return i.createElement(f.Z.Provider,{value:B},i.createElement("div",(0,r.Z)({},j,{className:_,style:(0,r.Z)((0,r.Z)({},I),g),ref:t}),b))})));v.displayName="Row";var y=v},9007:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat/messages",function(){return n(40625)}])},40625:function(e,t,n){"use strict";n.r(t),n.d(t,{OUTCOME_TIMEOUT:function(){return M},default:function(){return z}});var r=n(34051),a=n.n(r),o=n(85893),c=n(67294),i=n(84485),s=n(71577),l=n(96003),u=n(89739),f=n(21640),d=n(94184),p=n.n(d),m=n(58091),h=n(58827),v=n(2766),y=n(56266),g=n(99611),b=n(90420);function x(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function j(e){var t=e.isVisible,n=e.message,r=e.setMessage;if(!n||(0,v.Qr)(n))return null;var i=null,l=(0,c.useState)(0),d=l[0],p=l[1],m=(n||{}).id;(0,c.useEffect)((function(){return function(){clearTimeout(i)}}));var w=function(){var e,o=(e=a().mark((function e(){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(i),p(0),e.next=4,(0,h.rQ)(h.hn,{auth:!0,method:"POST",data:{visible:!t,idArray:[m]}});case 4:(o=e.sent).success&&"changed"===o.message?(r(Z({},n,{visible:!t})),p(1)):(r(Z({},n,{visible:t})),p(-1)),i=setTimeout((function(){p(0)}),M);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){x(o,r,a,c,i,"next",e)}function i(e){x(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return o.apply(this,arguments)}}(),j=(0,o.jsx)(u.Z,{style:{color:"transparent"}});d&&(j=d>0?(0,o.jsx)(u.Z,{style:{color:"var(--ant-success)"}}):(0,o.jsx)(f.Z,{style:{color:"var(--ant-warning)"}}));var O="Click to ".concat(t?"hide":"show"," this message");return(0,o.jsxs)("div",{className:"toggle-switch ".concat(t?"":"hidden"),children:[(0,o.jsx)("span",{className:"outcome-icon",children:j}),(0,o.jsx)(y.Z,{title:O,placement:"topRight",children:(0,o.jsx)(s.Z,{shape:"circle",size:"small",type:"text",icon:t?(0,o.jsx)(g.Z,{}):(0,o.jsx)(b.Z,{}),onClick:w})})]})}var O=n(85584);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){N(o,r,a,c,i,"next",e)}function i(e){N(o,r,a,c,i,"throw",e)}c(void 0)}))}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=i.Z.Title;var M=3e3;function z(){var e=(0,c.useState)([]),t=e[0],n=e[1],r=(0,c.useState)([]),i=r[0],d=r[1],y=(0,c.useState)(!1),g=y[0],b=y[1],x=(0,c.useState)(null),w=x[0],Z=x[1],C=(0,c.useState)(""),N=C[0],P=C[1],z=null,A=null,_=function(){var e=S(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.rQ)(h.WE,{auth:!0});case 3:t=e.sent,(0,v.Qr)(t)?n([]):n(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("==== error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return _(),A=setInterval((function(){_()}),h.NE),function(){clearTimeout(z),clearTimeout(A)}}),[]);var I=function(e){return e.reduce((function(e,t){var n=t.user.id;return e.some((function(e){return e.text===n}))||e.push({text:n,value:n}),e}),[]).sort((function(e,t){var n=e.text.toUpperCase(),r=t.text.toUpperCase();return n<r?-1:n>r?1:0}))}(t),L={selectedRowKeys:i,onChange:function(e){d(e)}},R=function(e){var r=t.findIndex((function(t){return t.id===e.id}));t.splice(r,1,e),n(T(t))},V=function(){z=setTimeout((function(){Z(null),P("")}),M)},D=function(){var e=S(a().mark((function e(r){var c,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,(0,h.rQ)(h.hn,{auth:!0,method:"POST",data:{visible:r,idArray:i}});case 3:(c=e.sent).success&&"changed"===c.message?(Z((0,o.jsx)(u.Z,{})),V(),s=T(t),i.map((function(e){var n=s.findIndex((function(t){return t.id===e})),a=E({},t[n],{visible:r});return s.splice(n,1,a),null})),n(s),d([])):(Z((0,o.jsx)(f.Z,{})),V()),b(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=[{title:"Time",dataIndex:"timestamp",key:"timestamp",className:"timestamp-col",defaultSortOrder:"descend",render:function(e){var t=new Date(e);return(0,m.Z)(t,"PP pp")},sorter:function(e,t){return new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()},width:90},{title:"User",dataIndex:"user",key:"user",className:"name-col",filters:I,onFilter:function(e,t){return t.user.id===e},sorter:function(e,t){return e.user.displayName.localeCompare(t.user.displayName)},sortDirections:["ascend","descend"],ellipsis:!0,render:function(e){var t=e.displayName;return(0,o.jsx)(O.Z,{user:e,children:t})},width:110},{title:"Message",dataIndex:"body",key:"body",className:"message-col",width:320,render:function(e){return(0,o.jsx)("div",{className:"message-contents",dangerouslySetInnerHTML:{__html:e}})}},{title:"",dataIndex:"hiddenAt",key:"hiddenAt",className:"toggle-col",filters:[{text:"Visible messages",value:!0},{text:"Hidden messages",value:!1}],onFilter:function(e,t){return t.visible===e},render:function(e,t){return(0,o.jsx)(j,{isVisible:!e,message:t,setMessage:R})},width:30}],U=p()({"bulk-editor":!0,active:i.length});return(0,o.jsxs)("div",{className:"chat-messages",children:[(0,o.jsx)(k,{children:"Chat Messages"}),(0,o.jsx)("p",{children:"Manage the messages from viewers that show up on your stream."}),(0,o.jsxs)("div",{className:U,children:[(0,o.jsx)("span",{className:"label",children:"Check multiple messages to change their visibility to: "}),(0,o.jsx)(s.Z,{type:"primary",size:"small",shape:"round",className:"button",loading:"show"===N&&g,icon:"show"===N&&w,disabled:!i.length||N&&"show"!==N,onClick:function(){P("show"),D(!0)},children:"Show"}),(0,o.jsx)(s.Z,{type:"primary",size:"small",shape:"round",className:"button",loading:"hide"===N&&g,icon:"hide"===N&&w,disabled:!i.length||N&&"hide"!==N,onClick:function(){P("hide"),D(!1)},children:"Hide"})]}),(0,o.jsx)(l.Z,{size:"small",className:"table-container",pagination:{defaultPageSize:100,showSizeChanger:!0},scroll:{y:540},rowClassName:function(e){return e.hiddenAt?"hidden":""},dataSource:t,columns:Q,rowKey:function(e){return e.id},rowSelection:L})]})}}},function(e){e.O(0,[3662,1741,6003,8091,5533,1371,9774,2888,179],(function(){return t=9007,e(e.s=t);var t}));var t=e.O();_N_E=t}]);